<Window x:Class="MizeKar.CreateFolderDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ایجاد پوشه جدید"
        Width="400"
        Height="280"
        WindowStyle="None"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="Transparent"
        AllowsTransparency="True"
        Icon="/Assets/logo.png">
    
    <Grid>
        <!-- Dialog Background Image -->
        <Grid.Background>
            <ImageBrush ImageSource="pack://application:,,,/Assets/images/dialog-background.jpg" Stretch="Fill"/>
        </Grid.Background>
        
        <Border Margin="20" Background="#FFFFFF" Opacity="0.95" CornerRadius="10" Padding="15">
            <StackPanel>
                <!-- Header -->
                <TextBlock Text="ایجاد پوشه جدید" 
                          FontSize="18" 
                          FontWeight="Bold" 
                          Foreground="#2C3E50"
                          HorizontalAlignment="Center"
                          Margin="0,0,0,15"/>
                
                <!-- Content -->
                <TextBlock Text=":نام پوشه جدید را وارد کنید" 
                           FontSize="16" 
                           FontWeight="SemiBold"
                           Foreground="#2C3E50"
                           Margin="0,0,0,15"/>
                
                <Grid>
                    <TextBox x:Name="FolderNameTextBox"
                             FontSize="14"
                             Height="45"
                             Padding="10"
                             Background="White"
                             BorderBrush="#BDC3C7"
                             BorderThickness="1"
                             TextAlignment="Right"
                             KeyDown="FolderNameTextBox_KeyDown"
                             PreviewTextInput="FolderNameTextBox_PreviewTextInput"/>
                    
                    <!-- Invalid Character Indicator -->
                    <Border x:Name="InvalidCharIndicator"
                            Background="#FFE74C3C"
                            Opacity="0"
                            CornerRadius="3"
                            Margin="2">
                        <TextBlock Text="!مجاز نیست" 
                                   FontSize="16" 
                                   FontWeight="Bold"
                                   Foreground="White"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                    </Border>
                </Grid>
                
                <!-- Action Buttons -->
                <StackPanel Orientation="Horizontal" 
                            HorizontalAlignment="Center" 
                            Margin="0,25,0,0">
                    <Button Width="100" Height="45"
                           Style="{StaticResource NoHoverButtonStyle}"
                           Click="CancelButton_Click"
                           Margin="0,0,10,0">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <TextBlock Text="انصراف" FontSize="14" Foreground="#2C3E50" VerticalAlignment="Center"/>
                            <Image Source="/Assets/icons/close.png" Width="20" Height="20" Margin="8,0,0,0"/>
                        </StackPanel>
                    </Button>
                            
                    <Button Width="100" Height="45"
                           Style="{StaticResource NoHoverButtonStyle}"
                           Click="CreateButton_Click">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <TextBlock Text="تأیید" FontSize="14" Foreground="#2C3E50" VerticalAlignment="Center"/>
                            <Image Source="/Assets/icons/confirm.png" Width="20" Height="20" Margin="8,0,0,0"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Window>